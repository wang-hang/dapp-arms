(self.webpackChunk=self.webpackChunk||[]).push([[902],{80638:function(){},3466:function(b,c,e){"use strict";e.d(c,{Z:function(){return Q}});var s=e(58024),u=e(91894),d=e(57663),v=e(71577),j=e(13062),E=e(71230),l=e(47673),M=e(4107),L=e(34792),O=e(48086),P=e(57337),_=e(67294),w=e(3182),X=e(94043),F=e.n(X),N=e(27811),i=e(29553),W=e(95129);function y(t,a){return t.getSigner(a).connectUnchecked()}function g(t,a){return a?y(t,a):t}function C(t,a,n,r){var m=g(n,r);return new W.CH(t,a,m)}var G=e(51893);function H(t,a,n){return C(t,i,a,n)}function ue(t,a,n){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime.mark(function t(a,n,r){var m;return _regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,r.allowance(a,n);case 2:return m=p.sent,p.abrupt("return",m.gt(0));case 4:case"end":return p.stop()}},t)})),J.apply(this,arguments)}function te(t,a){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime.mark(function t(a,n){var r;return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.balanceOf(a);case 2:return r=o.sent,o.abrupt("return",toBN(r.toString()));case 4:case"end":return o.stop()}},t)})),U.apply(this,arguments)}function k(t){var a=useWallet(),n=a.provider,r=a.account;return!n||!t?null:useMemo(()=>H(t,n,r),[n,t])}var ne=e(80315),q=e(44431),ae=e.n(q),$=e(56371),re=e(88902);function ee(){var t=(0,N.Z)(),a=t.account,n=t.provider,r=(0,_.useState)(!1),m=(0,P.Z)(r,2),o=m[0],p=m[1];function B(I,T){return Z.apply(this,arguments)}function Z(){return Z=(0,w.Z)(F().mark(function I(T,K){var S,x,R,h,A=arguments;return F().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return S=A.length>2&&A[2]!==void 0?A[2]:ne.BH,x=H(T,n,a),p(!0),f.prev=3,f.next=6,x.approve(K,S);case 6:return R=f.sent,f.next=9,R.wait();case 9:h=f.sent,console.log("\u6388\u6743\u6210\u529F: ",h),f.next=16;break;case 13:f.prev=13,f.t0=f.catch(3),console.error(f.t0);case 16:return f.prev=16,p(!1),f.finish(16);case 19:case"end":return f.stop()}},I,null,[[3,13,16,19]])})),Z.apply(this,arguments)}return{approve:B,loading:o}}var se=(t,a)=>{var n=(0,_.useState)(new(ae())(0)),r=(0,P.Z)(n,2),m=r[0],o=r[1],p=(0,N.Z)(),B=p.provider,Z=p.account,I=(0,_.useState)(!1),T=(0,P.Z)(I,2),K=T[0],S=T[1],x=()=>{if(t&&a&&(0,$.isAddress)(a)&&(0,$.isAddress)(t)){S(!0);var h=H(t,B,Z);h.allowance(Z,a).then(A=>{o((0,G.Z)(A))}).catch(A=>{console.log("\u83B7\u53D6\u6388\u6743\u989D\u5EA6\u51FA\u9519",A.message)}).finally(()=>{S(!1)})}};(0,_.useEffect)(()=>{x()},[t,a,B,Z]);var R=(0,_.useMemo)(()=>m.gt(0),[m]);return{loading:K,isApproved:R,allowanceWei:m.toFixed(),allowanceEther:(0,re.o)(m).toFixed(),refresh:x}},D=e(85893);function Q(){var t=(0,_.useState)(""),a=(0,P.Z)(t,2),n=a[0],r=a[1],m=(0,_.useState)(""),o=(0,P.Z)(m,2),p=o[0],B=o[1],Z=(0,_.useState)(""),I=(0,P.Z)(Z,2),T=I[0],K=I[1],S=se(n,T),x=S.isApproved,R=S.allowanceEther,h=S.loading,A=(0,_.useState)(!1),z=(0,P.Z)(A,2),f=z[0],V=z[1],ce=(0,_.useState)(!1),le=(0,P.Z)(ce,2),de=le[0],ie=le[1],pe=ee(),oe=pe.approve;function ve(){!fe()||(V(!0),oe(n,T).then(()=>{O.default.success("\u6388\u6743\u6210\u529F")}).finally(()=>V(!1)))}function ye(){!fe()||(ie(!0),oe(n,T,"0").then(()=>{O.default.success("\u53D6\u6D88\u6388\u6743\u6210\u529F")}).finally(()=>ie(!1)))}function fe(){return n?T?!0:(O.default.error("\u8BF7\u8F93\u5165\u88AB\u53D6\u6D88\u6388\u6743\u7684\u5408\u7EA6\u5730\u5740"),!1):(O.default.error("\u8BF7\u8F93\u5165\u53D6\u6D88\u6388\u6743\u7684\u4EE3\u5E01\u5730\u5740"),!1)}return(0,D.jsxs)(u.Z,{title:"\u5408\u7EA6\u6388\u6743",children:[(0,D.jsxs)(E.Z,{children:[(0,D.jsx)(M.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u989D\u5EA6",value:p,onChange:Y=>B(Y.target.value)}),(0,D.jsx)(M.Z,{placeholder:"\u8BF7\u8F93\u5165\u88AB\u6388\u6743\u7684\u5730\u5740",value:T,onChange:Y=>K(Y.target.value),status:T&&(0,$.isAddress)(T)?void 0:"error"}),(0,D.jsx)(M.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u7684\u4EE3\u5E01\u7684\u5730\u5740",value:n,onChange:Y=>r(Y.target.value),status:n&&(0,$.isAddress)(n)?void 0:"error"})]}),(0,D.jsx)(E.Z,{children:(0,D.jsx)("p",{children:h?"\u67E5\u8BE2\u4E2D...":"\u6388\u6743\u989D\u5EA6\uFF1A".concat(R," Ether")})}),(0,D.jsxs)(E.Z,{children:[(0,D.jsx)(v.Z,{type:"primary",loading:f,onClick:ve,children:"\u6388\u6743"}),(0,D.jsx)(v.Z,{loading:de,onClick:ye,children:"\u53D6\u6D88\u6388\u6743"})]})]})}},80315:function(b,c,e){"use strict";e.d(c,{BH:function(){return _},r_:function(){return w}});const s="0x0000000000000000000000000000000000000000";var u=e(44431),d=e.n(u),v=()=>{},j=128,E="https://http-mainnet.hecochain.com/",l="https://hecoinfo.com",M=256,L="https://http-testnet.hecochain.com",O="https://testnet.hecoinfo.com/",P=[M],_="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",w=s,X="https://http-mainnet.hecochain.com/",F={128:{chainName:"Heco Mainnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:128,rpcUrls:[E],blockExplorerUrls:[l]},256:{chainName:"Heco Testnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:256,rpcUrls:[L],blockExplorerUrls:[O]}},N=new(d())(0)},27811:function(b,c,e){"use strict";e.d(c,{Z:function(){return M}});var s=e(57337),u=e(56151),d=e(38590),v=(0,u.initializeConnector)(L=>new d.MetaMask(L)),j=(0,s.Z)(v,2),E=j[0],l=j[1];function M(){var L=l.useChainId,O=l.useAccount,P=l.useAccounts,_=l.useIsActive,w=l.useProvider,X=L(),F=O(),N=_(),i=w(),W=y=>{var g=y.address,C=y.symbol,G=y.decimals,H=y.image;window.ethereum&&window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:g,symbol:C,decimals:G,image:H}}})};return{chainId:X,account:F||"",isActive:N,provider:i,connect:()=>E.activate(),disconnect:()=>E.deactivate(),addTokenToWallet:W}}},35213:function(b,c,e){"use strict";e.r(c),e.d(c,{default:function(){return v}});var s=e(67294),u=e(3466),d=e(85893);function v(){return(0,d.jsx)(s.Fragment,{children:(0,d.jsx)(u.Z,{})})}},51893:function(b,c,e){"use strict";e.d(c,{Z:function(){return d}});var s=e(44431),u=e.n(s);function d(v){return v?new(u())(v.toString()):new(u())(0)}},88902:function(b,c,e){"use strict";e.d(c,{o:function(){return v}});var s=e(51893),u=e(44431),d=e.n(u);function v(E){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,M=(0,s.Z)(E);return M.dividedBy(Math.pow(10,l))}function j(E){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,M=E instanceof BigNumber?E.toString():E;return toBN(utils.parseUnits(M,l))}},99134:function(b,c,e){"use strict";var s=e(67294),u=(0,s.createContext)({});c.Z=u},92820:function(b,c,e){"use strict";var s=e(16184),u=e(46823),d=e(65459),v=e(38796),j=e(94184),E=e.n(j),l=e(67294),M=e(53124),L=e(33732),O=e(24308),P=e(93355),_=e(99134),w=function(i,W){var y={};for(var g in i)Object.prototype.hasOwnProperty.call(i,g)&&W.indexOf(g)<0&&(y[g]=i[g]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,g=Object.getOwnPropertySymbols(i);C<g.length;C++)W.indexOf(g[C])<0&&Object.prototype.propertyIsEnumerable.call(i,g[C])&&(y[g[C]]=i[g[C]]);return y},X=(0,P.b)("top","middle","bottom","stretch"),F=(0,P.b)("start","end","center","space-around","space-between","space-evenly"),N=l.forwardRef(function(i,W){var y,g=i.prefixCls,C=i.justify,G=i.align,H=i.className,ue=i.style,J=i.children,te=i.gutter,U=te===void 0?0:te,k=i.wrap,ne=w(i,["prefixCls","justify","align","className","style","children","gutter","wrap"]),q=l.useContext(M.E_),ae=q.getPrefixCls,$=q.direction,re=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),ee=(0,v.Z)(re,2),se=ee[0],D=ee[1],Q=(0,L.Z)(),t=l.useRef(U);l.useEffect(function(){var x=O.ZP.subscribe(function(R){var h=t.current||0;(!Array.isArray(h)&&(0,d.Z)(h)==="object"||Array.isArray(h)&&((0,d.Z)(h[0])==="object"||(0,d.Z)(h[1])==="object"))&&D(R)});return function(){return O.ZP.unsubscribe(x)}},[]);var a=function(){var R=[void 0,void 0],h=Array.isArray(U)?U:[U,void 0];return h.forEach(function(A,z){if((0,d.Z)(A)==="object")for(var f=0;f<O.c4.length;f++){var V=O.c4[f];if(se[V]&&A[V]!==void 0){R[z]=A[V];break}}else R[z]=A}),R},n=ae("row",g),r=a(),m=E()(n,(y={},(0,u.Z)(y,"".concat(n,"-no-wrap"),k===!1),(0,u.Z)(y,"".concat(n,"-").concat(C),C),(0,u.Z)(y,"".concat(n,"-").concat(G),G),(0,u.Z)(y,"".concat(n,"-rtl"),$==="rtl"),y),H),o={},p=r[0]!=null&&r[0]>0?r[0]/-2:void 0,B=r[1]!=null&&r[1]>0?r[1]/-2:void 0;if(p&&(o.marginLeft=p,o.marginRight=p),Q){var Z=(0,v.Z)(r,2);o.rowGap=Z[1]}else B&&(o.marginTop=B,o.marginBottom=B);var I=(0,v.Z)(r,2),T=I[0],K=I[1],S=l.useMemo(function(){return{gutter:[T,K],wrap:k,supportFlexGap:Q}},[T,K,k,Q]);return l.createElement(_.Z.Provider,{value:S},l.createElement("div",(0,s.Z)({},ne,{className:m,style:(0,s.Z)((0,s.Z)({},o),ue),ref:W}),J))});c.Z=N},6999:function(b,c,e){"use strict";var s=e(38663),u=e.n(s),d=e(80638),v=e.n(d)},71230:function(b,c,e){"use strict";var s=e(92820);c.Z=s.Z},13062:function(b,c,e){"use strict";var s=e(38663),u=e.n(s),d=e(6999)},29553:function(b){"use strict";b.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Approval","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint8","name":"decimal","type":"uint8"}],"name":"setDecimals","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},46601:function(){}}]);
