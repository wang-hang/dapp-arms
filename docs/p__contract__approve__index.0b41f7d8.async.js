(self.webpackChunk=self.webpackChunk||[]).push([[902],{80638:function(){},39125:function(O,o,e){"use strict";e.d(o,{Z:function(){return de}});var s=e(58024),l=e(91894),y=e(57663),m=e(71577),K=e(13062),_=e(71230),i=e(47673),P=e(4107),j=e(34792),C=e(48086),M=e(57337),g=e(67294),z=e(3182),k=e(94043),V=e.n(k),w=e(27811),r=e(29553),S=e(95129);function p(a,t){return a.getSigner(t).connectUnchecked()}function E(a,t){return t?p(a,t):a}function T(a,t,n,u){var c=E(n,u);return new S.CH(a,t,c)}var N=e(51893);function x(a,t,n){return T(a,r,t,n)}function ve(a,t,n){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function a(t,n,u){var c;return _regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,u.allowance(t,n);case 2:return c=d.sent,d.abrupt("return",c.gt(0));case 4:case"end":return d.stop()}},a)})),X.apply(this,arguments)}function ue(a,t){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime.mark(function a(t,n){var u;return _regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,n.balanceOf(t);case 2:return u=f.sent,f.abrupt("return",toBN(u.toString()));case 4:case"end":return f.stop()}},a)})),B.apply(this,arguments)}function q(a){var t=useWallet(),n=t.provider,u=t.account;return!n||!a?null:useMemo(()=>x(a,n,u),[n,a])}const le="0x0000000000000000000000000000000000000000";var ee=e(44431),te=e.n(ee),ye=()=>{},me=128,ne="https://http-mainnet.hecochain.com/",ie="https://hecoinfo.com",oe=256,J="https://http-testnet.hecochain.com",ce="https://testnet.hecoinfo.com/",Ee=[oe],L="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",D=le,_e="https://http-mainnet.hecochain.com/",W={128:{chainName:"Heco Mainnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:128,rpcUrls:[ne],blockExplorerUrls:[ie]},256:{chainName:"Heco Testnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:256,rpcUrls:[J],blockExplorerUrls:[ce]}},ae=new(te())(0),I=e(56371),fe=e(88902);function re(){var a=(0,w.Z)(),t=a.account,n=a.provider,u=(0,g.useState)(!1),c=(0,M.Z)(u,2),f=c[0],d=c[1];function H(U,A){return b.apply(this,arguments)}function b(){return b=(0,z.Z)(V().mark(function U(A,Q){var R,F,G,$,Z=arguments;return V().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return R=Z.length>2&&Z[2]!==void 0?Z[2]:L,F=x(A,n,t),d(!0),v.prev=3,v.next=6,F.approve(Q,R);case 6:return G=v.sent,v.next=9,G.wait();case 9:$=v.sent,console.log("\u6388\u6743\u6210\u529F: ",$),v.next=16;break;case 13:v.prev=13,v.t0=v.catch(3),console.error(v.t0);case 16:return v.prev=16,d(!1),v.finish(16);case 19:case"end":return v.stop()}},U,null,[[3,13,16,19]])})),b.apply(this,arguments)}return{approve:H,loading:f}}var se=(a,t)=>{var n=(0,g.useState)(new(te())(0)),u=(0,M.Z)(n,2),c=u[0],f=u[1],d=(0,w.Z)(),H=d.provider,b=d.account,U=(0,g.useState)(!1),A=(0,M.Z)(U,2),Q=A[0],R=A[1],F=()=>{if(a&&t&&(0,I.isAddress)(t)&&(0,I.isAddress)(a)){R(!0);var $=x(a,H,b);$.allowance(b,t).then(Z=>{f((0,N.Z)(Z))}).catch(Z=>{console.log("\u83B7\u53D6\u6388\u6743\u989D\u5EA6\u51FA\u9519",Z.message)}).finally(()=>{R(!1)})}};(0,g.useEffect)(()=>{F()},[a,t,H,b]);var G=(0,g.useMemo)(()=>c.gt(0),[c]);return{loading:Q,isApproved:G,allowanceWei:c.toFixed(),allowanceEther:(0,fe.o)(c).toFixed(),refresh:F}},h=e(85893);function de(){var a=(0,g.useState)(""),t=(0,M.Z)(a,2),n=t[0],u=t[1],c=(0,g.useState)(""),f=(0,M.Z)(c,2),d=f[0],H=f[1],b=(0,g.useState)(""),U=(0,M.Z)(b,2),A=U[0],Q=U[1],R=se(n,A),F=R.isApproved,G=R.allowanceEther,$=R.loading,Z=(0,g.useState)(!1),pe=(0,M.Z)(Z,2),v=pe[0],ge=pe[1],Oe=(0,g.useState)(!1),Te=(0,M.Z)(Oe,2),Pe=Te[0],he=Te[1],Ce=re(),Ae=Ce.approve;function De(){!Me()||(ge(!0),Ae(n,A).then(()=>{C.default.success("\u6388\u6743\u6210\u529F")}).finally(()=>ge(!1)))}function be(){!Me()||(he(!0),Ae(n,A,"0").then(()=>{C.default.success("\u53D6\u6D88\u6388\u6743\u6210\u529F")}).finally(()=>he(!1)))}function Me(){return n?A?!0:(C.default.error("\u8BF7\u8F93\u5165\u88AB\u53D6\u6D88\u6388\u6743\u7684\u5408\u7EA6\u5730\u5740"),!1):(C.default.error("\u8BF7\u8F93\u5165\u53D6\u6D88\u6388\u6743\u7684\u4EE3\u5E01\u5730\u5740"),!1)}return(0,h.jsxs)(l.Z,{title:"\u5408\u7EA6\u6388\u6743",children:[(0,h.jsxs)(_.Z,{children:[(0,h.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u989D\u5EA6",value:d,onChange:Y=>H(Y.target.value)}),(0,h.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165\u88AB\u6388\u6743\u7684\u5730\u5740",value:A,onChange:Y=>Q(Y.target.value),status:A&&(0,I.isAddress)(A)?void 0:"error"}),(0,h.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u7684\u4EE3\u5E01\u7684\u5730\u5740",value:n,onChange:Y=>u(Y.target.value),status:n&&(0,I.isAddress)(n)?void 0:"error"})]}),(0,h.jsx)(_.Z,{children:(0,h.jsx)("p",{children:$?"\u67E5\u8BE2\u4E2D...":"\u6388\u6743\u989D\u5EA6\uFF1A".concat(G," Ether")})}),(0,h.jsxs)(_.Z,{children:[(0,h.jsx)(m.Z,{type:"primary",loading:v,onClick:De,children:"\u6388\u6743"}),(0,h.jsx)(m.Z,{loading:Pe,onClick:be,children:"\u53D6\u6D88\u6388\u6743"})]})]})}},27811:function(O,o,e){"use strict";e.d(o,{Z:function(){return P}});var s=e(57337),l=e(56151),y=e(38590),m=(0,l.initializeConnector)(j=>new y.MetaMask(j)),K=(0,s.Z)(m,2),_=K[0],i=K[1];function P(){var j=i.useChainId,C=i.useAccount,M=i.useAccounts,g=i.useIsActive,z=i.useProvider,k=j(),V=C(),w=g(),r=z(),S=p=>{var E=p.address,T=p.symbol,N=p.decimals,x=p.image;window.ethereum&&window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:E,symbol:T,decimals:N,image:x}}})};return{chainId:k,account:V||"",isActive:w,provider:r,connect:()=>_.activate(),disconnect:()=>_.deactivate(),addTokenToWallet:S}}},35213:function(O,o,e){"use strict";e.r(o),e.d(o,{default:function(){return m}});var s=e(67294),l=e(39125),y=e(85893);function m(){return(0,y.jsx)(s.Fragment,{children:(0,y.jsx)(l.Z,{})})}},51893:function(O,o,e){"use strict";e.d(o,{Z:function(){return y}});var s=e(44431),l=e.n(s);function y(m){return m?new(l())(m.toString()):new(l())(0)}},88902:function(O,o,e){"use strict";e.d(o,{o:function(){return m}});var s=e(51893),l=e(44431),y=e.n(l);function m(_){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,P=(0,s.Z)(_);return P.dividedBy(Math.pow(10,i))}function K(_){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,P=_ instanceof BigNumber?_.toString():_;return toBN(utils.parseUnits(P,i))}},99134:function(O,o,e){"use strict";var s=e(67294),l=(0,s.createContext)({});o.Z=l},92820:function(O,o,e){"use strict";var s=e(16184),l=e(46823),y=e(65459),m=e(38796),K=e(94184),_=e.n(K),i=e(67294),P=e(53124),j=e(33732),C=e(24308),M=e(93355),g=e(99134),z=function(r,S){var p={};for(var E in r)Object.prototype.hasOwnProperty.call(r,E)&&S.indexOf(E)<0&&(p[E]=r[E]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,E=Object.getOwnPropertySymbols(r);T<E.length;T++)S.indexOf(E[T])<0&&Object.prototype.propertyIsEnumerable.call(r,E[T])&&(p[E[T]]=r[E[T]]);return p},k=(0,M.b)("top","middle","bottom","stretch"),V=(0,M.b)("start","end","center","space-around","space-between","space-evenly"),w=i.forwardRef(function(r,S){var p,E=r.prefixCls,T=r.justify,N=r.align,x=r.className,ve=r.style,X=r.children,ue=r.gutter,B=ue===void 0?0:ue,q=r.wrap,le=z(r,["prefixCls","justify","align","className","style","children","gutter","wrap"]),ee=i.useContext(P.E_),te=ee.getPrefixCls,ye=ee.direction,me=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),ne=(0,m.Z)(me,2),ie=ne[0],oe=ne[1],J=(0,j.Z)(),ce=i.useRef(B);i.useEffect(function(){var a=C.ZP.subscribe(function(t){var n=ce.current||0;(!Array.isArray(n)&&(0,y.Z)(n)==="object"||Array.isArray(n)&&((0,y.Z)(n[0])==="object"||(0,y.Z)(n[1])==="object"))&&oe(t)});return function(){return C.ZP.unsubscribe(a)}},[]);var Ee=function(){var t=[void 0,void 0],n=Array.isArray(B)?B:[B,void 0];return n.forEach(function(u,c){if((0,y.Z)(u)==="object")for(var f=0;f<C.c4.length;f++){var d=C.c4[f];if(ie[d]&&u[d]!==void 0){t[c]=u[d];break}}else t[c]=u}),t},L=te("row",E),D=Ee(),_e=_()(L,(p={},(0,l.Z)(p,"".concat(L,"-no-wrap"),q===!1),(0,l.Z)(p,"".concat(L,"-").concat(T),T),(0,l.Z)(p,"".concat(L,"-").concat(N),N),(0,l.Z)(p,"".concat(L,"-rtl"),ye==="rtl"),p),x),W={},ae=D[0]!=null&&D[0]>0?D[0]/-2:void 0,I=D[1]!=null&&D[1]>0?D[1]/-2:void 0;if(ae&&(W.marginLeft=ae,W.marginRight=ae),J){var fe=(0,m.Z)(D,2);W.rowGap=fe[1]}else I&&(W.marginTop=I,W.marginBottom=I);var re=(0,m.Z)(D,2),se=re[0],h=re[1],de=i.useMemo(function(){return{gutter:[se,h],wrap:q,supportFlexGap:J}},[se,h,q,J]);return i.createElement(g.Z.Provider,{value:de},i.createElement("div",(0,s.Z)({},le,{className:_e,style:(0,s.Z)((0,s.Z)({},W),ve),ref:S}),X))});o.Z=w},6999:function(O,o,e){"use strict";var s=e(38663),l=e.n(s),y=e(80638),m=e.n(y)},71230:function(O,o,e){"use strict";var s=e(92820);o.Z=s.Z},13062:function(O,o,e){"use strict";var s=e(38663),l=e.n(s),y=e(6999)},29553:function(O){"use strict";O.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Approval","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint8","name":"decimal","type":"uint8"}],"name":"setDecimals","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},46601:function(){}}]);
