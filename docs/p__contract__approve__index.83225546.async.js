(self.webpackChunk=self.webpackChunk||[]).push([[902],{80638:function(){},80315:function(D,o,e){"use strict";e.d(o,{BH:function(){return _},r_:function(){return j}});const a="0x0000000000000000000000000000000000000000";var f=e(44431),y=e.n(f),h=()=>{},I=128,A="https://http-mainnet.hecochain.com/",s="https://hecoinfo.com",Z=256,R="https://http-testnet.hecochain.com",x="https://testnet.hecoinfo.com/",L=[Z],_="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",j=a,V="https://http-mainnet.hecochain.com/",G={128:{chainName:"Heco Mainnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:128,rpcUrls:[A],blockExplorerUrls:[s]},256:{chainName:"Heco Testnet",nativeCurrency:{name:"HT",decimals:18,symbol:"HT"},chainId:256,rpcUrls:[R],blockExplorerUrls:[x]}},w=new(y())(0)},27811:function(D,o,e){"use strict";e.d(o,{Z:function(){return Z}});var a=e(57337),f=e(56151),y=e(38590),h=(0,f.initializeConnector)(R=>new y.MetaMask(R)),I=(0,a.Z)(h,2),A=I[0],s=I[1];function Z(){var R=s.useChainId,x=s.useAccount,L=s.useAccounts,_=s.useIsActive,j=s.useProvider,V=R(),G=x(),w=_(),l=j(),W=p=>{var m=p.address,M=p.symbol,$=p.decimals,N=p.image;window.ethereum&&window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:m,symbol:M,decimals:$,image:N}}})};return{chainId:V,account:G||"",isActive:w,provider:l,connect:()=>A.activate(),disconnect:()=>A.deactivate(),addTokenToWallet:W}}},64262:function(D,o,e){"use strict";e.r(o),e.d(o,{default:function(){return se}});var a=e(67294),f=e(58024),y=e(91894),h=e(57663),I=e(71577),A=e(13062),s=e(71230),Z=e(47673),R=e(4107),x=e(34792),L=e(48086),_=e(57337),j=e(3182),V=e(94043),G=e.n(V),w=e(27811),l=e(29553),W=e(95129);function p(r,t){return r.getSigner(t).connectUnchecked()}function m(r,t){return t?p(r,t):r}function M(r,t,n,v){var u=m(n,v);return new W.CH(r,t,u)}var $=e(51893);function N(r,t,n){return M(r,l,t,n)}function ue(r,t,n){return X.apply(this,arguments)}function X(){return X=_asyncToGenerator(_regeneratorRuntime.mark(function r(t,n,v){var u;return _regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,v.allowance(t,n);case 2:return u=d.sent,d.abrupt("return",u.gt(0));case 4:case"end":return d.stop()}},r)})),X.apply(this,arguments)}function ee(r,t){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime.mark(function r(t,n){var v;return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,n.balanceOf(t);case 2:return v=c.sent,c.abrupt("return",toBN(v.toString()));case 4:case"end":return c.stop()}},r)})),U.apply(this,arguments)}function Y(r){var t=useWallet(),n=t.provider,v=t.account;return!n||!r?null:useMemo(()=>N(r,n,v),[n,r])}var te=e(80315),k=e(44431),ne=e.n(k),z=e(56371),ae=e(88902);function q(){var r=(0,w.Z)(),t=r.account,n=r.provider,v=(0,a.useState)(!1),u=(0,_.Z)(v,2),c=u[0],d=u[1];function K(B,E){return O.apply(this,arguments)}function O(){return O=(0,j.Z)(G().mark(function B(E,H){var P,C,T,S,b=arguments;return G().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return P=b.length>2&&b[2]!==void 0?b[2]:te.BH,C=N(E,n,t),d(!0),i.prev=3,i.next=6,C.approve(H,P);case 6:return T=i.sent,i.next=9,T.wait();case 9:S=i.sent,console.log("\u6388\u6743\u6210\u529F: ",S),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(3),console.error(i.t0);case 16:return i.prev=16,d(!1),i.finish(16);case 19:case"end":return i.stop()}},B,null,[[3,13,16,19]])})),O.apply(this,arguments)}return{approve:K,loading:c}}var re=(r,t)=>{var n=(0,a.useState)(new(ne())(0)),v=(0,_.Z)(n,2),u=v[0],c=v[1],d=(0,w.Z)(),K=d.provider,O=d.account,B=(0,a.useState)(!1),E=(0,_.Z)(B,2),H=E[0],P=E[1],C=()=>{if(r&&t&&(0,z.isAddress)(t)&&(0,z.isAddress)(r)){P(!0);var S=N(r,K,O);S.allowance(O,t).then(b=>{c((0,$.Z)(b))}).catch(b=>{console.log("\u83B7\u53D6\u6388\u6743\u989D\u5EA6\u51FA\u9519",b.message)}).finally(()=>{P(!1)})}};(0,a.useEffect)(()=>{C()},[r,t,K,O]);var T=(0,a.useMemo)(()=>u.gt(0),[u]);return{loading:H,isApproved:T,allowanceWei:u.toFixed(),allowanceEther:(0,ae.o)(u).toFixed(),refresh:C}},g=e(85893);function J(){var r=(0,a.useState)(""),t=(0,_.Z)(r,2),n=t[0],v=t[1],u=(0,a.useState)(""),c=(0,_.Z)(u,2),d=c[0],K=c[1],O=(0,a.useState)(""),B=(0,_.Z)(O,2),E=B[0],H=B[1],P=re(n,E),C=P.isApproved,T=P.allowanceEther,S=P.loading,b=(0,a.useState)(!1),F=(0,_.Z)(b,2),i=F[0],le=F[1],de=(0,a.useState)(!1),ie=(0,_.Z)(de,2),pe=ie[0],oe=ie[1],ve=q(),fe=ve.approve;function ye(){!ce()||(le(!0),fe(n,E).then(()=>{L.default.success("\u6388\u6743\u6210\u529F")}).finally(()=>le(!1)))}function me(){!ce()||(oe(!0),fe(n,E,"0").then(()=>{L.default.success("\u53D6\u6D88\u6388\u6743\u6210\u529F")}).finally(()=>oe(!1)))}function ce(){return n?E?!0:(L.default.error("\u8BF7\u8F93\u5165\u88AB\u53D6\u6D88\u6388\u6743\u7684\u5408\u7EA6\u5730\u5740"),!1):(L.default.error("\u8BF7\u8F93\u5165\u53D6\u6D88\u6388\u6743\u7684\u4EE3\u5E01\u5730\u5740"),!1)}return(0,g.jsxs)(y.Z,{title:"\u5408\u7EA6\u6388\u6743",children:[(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u989D\u5EA6",value:d,onChange:Q=>K(Q.target.value)}),(0,g.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u88AB\u6388\u6743\u7684\u5730\u5740",value:E,onChange:Q=>H(Q.target.value),status:E&&(0,z.isAddress)(E)?void 0:"error"}),(0,g.jsx)(R.Z,{placeholder:"\u8BF7\u8F93\u5165\u6388\u6743\u7684\u4EE3\u5E01\u7684\u5730\u5740",value:n,onChange:Q=>v(Q.target.value),status:n&&(0,z.isAddress)(n)?void 0:"error"})]}),(0,g.jsx)(s.Z,{children:(0,g.jsx)("p",{children:S?"\u67E5\u8BE2\u4E2D...":"\u6388\u6743\u989D\u5EA6\uFF1A".concat(T," Ether")})}),(0,g.jsxs)(s.Z,{children:[(0,g.jsx)(I.Z,{type:"primary",loading:i,onClick:ye,children:"\u6388\u6743"}),(0,g.jsx)(I.Z,{loading:pe,onClick:me,children:"\u53D6\u6D88\u6388\u6743"})]})]})}function se(){return(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(J,{})})}},51893:function(D,o,e){"use strict";e.d(o,{Z:function(){return y}});var a=e(44431),f=e.n(a);function y(h){return h?new(f())(h.toString()):new(f())(0)}},88902:function(D,o,e){"use strict";e.d(o,{o:function(){return h}});var a=e(51893),f=e(44431),y=e.n(f);function h(A){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,Z=(0,a.Z)(A);return Z.dividedBy(Math.pow(10,s))}function I(A){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:18,Z=A instanceof BigNumber?A.toString():A;return toBN(utils.parseUnits(Z,s))}},99134:function(D,o,e){"use strict";var a=e(67294),f=(0,a.createContext)({});o.Z=f},92820:function(D,o,e){"use strict";var a=e(16184),f=e(46823),y=e(65459),h=e(38796),I=e(94184),A=e.n(I),s=e(67294),Z=e(53124),R=e(33732),x=e(24308),L=e(93355),_=e(99134),j=function(l,W){var p={};for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&W.indexOf(m)<0&&(p[m]=l[m]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,m=Object.getOwnPropertySymbols(l);M<m.length;M++)W.indexOf(m[M])<0&&Object.prototype.propertyIsEnumerable.call(l,m[M])&&(p[m[M]]=l[m[M]]);return p},V=(0,L.b)("top","middle","bottom","stretch"),G=(0,L.b)("start","end","center","space-around","space-between","space-evenly"),w=s.forwardRef(function(l,W){var p,m=l.prefixCls,M=l.justify,$=l.align,N=l.className,ue=l.style,X=l.children,ee=l.gutter,U=ee===void 0?0:ee,Y=l.wrap,te=j(l,["prefixCls","justify","align","className","style","children","gutter","wrap"]),k=s.useContext(Z.E_),ne=k.getPrefixCls,z=k.direction,ae=s.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),q=(0,h.Z)(ae,2),re=q[0],g=q[1],J=(0,R.Z)(),se=s.useRef(U);s.useEffect(function(){var P=x.ZP.subscribe(function(C){var T=se.current||0;(!Array.isArray(T)&&(0,y.Z)(T)==="object"||Array.isArray(T)&&((0,y.Z)(T[0])==="object"||(0,y.Z)(T[1])==="object"))&&g(C)});return function(){return x.ZP.unsubscribe(P)}},[]);var r=function(){var C=[void 0,void 0],T=Array.isArray(U)?U:[U,void 0];return T.forEach(function(S,b){if((0,y.Z)(S)==="object")for(var F=0;F<x.c4.length;F++){var i=x.c4[F];if(re[i]&&S[i]!==void 0){C[b]=S[i];break}}else C[b]=S}),C},t=ne("row",m),n=r(),v=A()(t,(p={},(0,f.Z)(p,"".concat(t,"-no-wrap"),Y===!1),(0,f.Z)(p,"".concat(t,"-").concat(M),M),(0,f.Z)(p,"".concat(t,"-").concat($),$),(0,f.Z)(p,"".concat(t,"-rtl"),z==="rtl"),p),N),u={},c=n[0]!=null&&n[0]>0?n[0]/-2:void 0,d=n[1]!=null&&n[1]>0?n[1]/-2:void 0;if(c&&(u.marginLeft=c,u.marginRight=c),J){var K=(0,h.Z)(n,2);u.rowGap=K[1]}else d&&(u.marginTop=d,u.marginBottom=d);var O=(0,h.Z)(n,2),B=O[0],E=O[1],H=s.useMemo(function(){return{gutter:[B,E],wrap:Y,supportFlexGap:J}},[B,E,Y,J]);return s.createElement(_.Z.Provider,{value:H},s.createElement("div",(0,a.Z)({},te,{className:v,style:(0,a.Z)((0,a.Z)({},u),ue),ref:W}),X))});o.Z=w},6999:function(D,o,e){"use strict";var a=e(38663),f=e.n(a),y=e(80638),h=e.n(y)},71230:function(D,o,e){"use strict";var a=e(92820);o.Z=a.Z},13062:function(D,o,e){"use strict";var a=e(38663),f=e.n(a),y=e(6999)},29553:function(D){"use strict";D.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Approval","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint8","name":"decimal","type":"uint8"}],"name":"setDecimals","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"address","name":"","type":"address"},{"indexed":false,"internalType":"uint256","name":"","type":"uint256"}],"name":"Transfer","type":"event"},{"constant":false,"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]')},46601:function(){}}]);
